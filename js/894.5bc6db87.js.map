{"version":3,"file":"js/894.5bc6db87.js","mappings":"uPA0GSA,MAAM,mB,GAaDA,MAAM,e,UACRC,EAAAA,EAAAA,GAA8D,SAAvDC,KAAK,OAAOF,MAAM,SAASG,YAAY,iBAA9C,W,0DAdRC,EAAAA,EAAAA,IAkBM,MAlBN,EAkBM,EALFH,EAAAA,EAAAA,GAIO,OAJP,EAIO,CAHHI,GACAJ,EAAAA,EAAAA,GACK,MADDD,MAAM,cAAcM,UAAQC,EAAAA,aAAhC,c,aA/EZ,GACIC,QAEI,MAAMC,EAAW,4HACXC,EAAS,GAOfC,MAAMF,GAELG,MAAMC,GAAOA,EAAIC,SACjBF,MAAMG,GAAQL,EAAOM,QAAQD,KAK9B,MAAME,EAAY,SAASC,GACvB,OAAOR,EAAOS,QAAQC,GAAOA,EAAIC,KAAKC,MAAMJ,IAASE,EAAIG,MAAMD,MAAMJ,MAMnEM,GAAcC,EAAAA,EAAAA,IAAI,iDAGxB,SAASC,EAAiBC,GACxB,OAAOA,EAAEC,WAAWC,QAAQ,wBAAyB,KAGvD,MAAMC,EAAmB,WACvB,MAAMZ,EAAM,IAAIa,OAAQC,KAAKC,MAAMC,OAAQ,MACrCC,EAAWlB,EAAUC,GAE3BM,EAAYS,MAAQE,EAASC,KAAKhB,IAEhC,MAAMiB,EAAUjB,EAAIC,KAAKQ,QAAQX,EAAM,4BAA2Bc,KAAKC,gBACjEK,EAAWlB,EAAIG,MAAMM,QAAQX,EAAM,4BAA2Bc,KAAKC,gBACvE,MAAQ,oDACuBI,MAAYC,8DACNZ,EAAiBN,EAAImB,qDAE3DC,KAAK,KAaV,OARAC,EAAAA,EAAAA,KAAU,KAENC,SAASC,cAAc,gBAAgBC,iBAAiB,SAAUd,GAClEY,SAASC,cAAc,gBAAgBC,iBAAiB,QAASd,MAK/D,CAAEN,YAAAA,K,SC7FhB,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://Portfolio-VueCLI/./src/views/D6_TypeAhead.vue","webpack://Portfolio-VueCLI/./src/views/D6_TypeAhead.vue?e8f0"],"sourcesContent":["<script>\r\nimport { reactive, ref } from '@vue/reactivity';\r\nimport { onMounted, watch } from '@vue/runtime-core';\r\n\r\n/*▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼ Ｖｕｅ 無圈選文字▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼*/\r\n/*\r\nexport default {\r\n    setup(){\r\n        //城市資料API\r\n        const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';\r\n        const cities = [];\r\n        //撈回來的資料格式為[{...},{...},...]\r\n        //如果這裡宣告用let就可以在撈回資料的時候直接 .then((data)=> cities = data ) 把資料塞進去\r\n        //否則用const會噴 TypeError: Assignment to constant variable.\r\n        //但如果想保持資料格式不被更改\r\n        //就可以用const宣告 + cities.push(data)\r\n        \r\n        fetch(endpoint)\r\n        //使用裡面的json()來叫出json資料\r\n        .then((res)=> res.json())\r\n        .then((data)=> cities.push(...data))\r\n                        //這裡沒有用展開的話會變成[[{...},{...},...]]        \r\n        \r\n        const enterKey = ref(\"\");    \r\n        const matchData = reactive({data:[]});\r\n\r\n        function displayMatch(enterWord){\r\n            const reg = new RegExp( enterWord.trim(), 'gi');\r\n            matchData.data = cities.filter((obj)=>{\r\n                return obj.city.match(reg) || obj.state.match(reg)\r\n            })\r\n        }\r\n        //處理從input輸入的關鍵字，\r\n        //把關鍵字用Reg處理，找到對應的資料\r\n        watch( enterKey, (newData)=>{\r\n            displayMatch(newData);\r\n        } )\r\n        return{ enterKey, matchData,}\r\n    }//setup\r\n}\r\n*/\r\n/*▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼ ＪＳ + Ｖｕｅ 有圈選文字▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼*/\r\nexport default {\r\n    setup(){\r\n        //城市資料API\r\n        const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';\r\n        const cities = [];\r\n        //撈回來的資料格式為[{...},{...},...]\r\n        //如果這裡宣告用let就可以在撈回資料的時候直接 .then((data)=> cities = data ) 把資料塞進去\r\n        //否則用const會噴 TypeError: Assignment to constant variable.\r\n        //但如果想保持資料格式不被更改\r\n        //就可以用const宣告 + cities.push(data)\r\n        \r\n        fetch(endpoint)\r\n        //使用裡面的json()來叫出json資料\r\n        .then((res)=> res.json())\r\n        .then((data)=> cities.push(...data))\r\n                        //這裡沒有用展開的話會變成[[{...},{...},...]]\r\n        \r\n        \r\n        //處理從input輸入的關鍵字，把關鍵字做成Reg，輸出篩選完成的Arr\r\n        const dataMatch = function(reg){\r\n            return cities.filter((obj)=> obj.city.match(reg) ||  obj.state.match(reg))\r\n        }\r\n\r\n        //把對應的資料推到畫面上\r\n        //Vue 在scpoed的情況下，用 v-html 或是 innerHTML 插入的資料不會帶有樣式\r\n        //所以透過這種狀況產生的原始碼可以在style裡面加入>>>表示深層作用\r\n        const displayHTML = ref(\"<li>Filter for a city</li><li>or a state</li>\");\r\n\r\n        //人口數增加小數點\r\n        function numberWithCommas(x) {\r\n          return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','); ''\r\n        };\r\n\r\n        const displayDataMatch = function(){\r\n          const reg = new RegExp( this.value.trim(), \"gi\");\r\n          const matchArr = dataMatch(reg);\r\n\r\n          displayHTML.value = matchArr.map((obj)=>{\r\n            //把篩選的文字圈選\r\n            const regCity = obj.city.replace(reg, `<span class=\"hightLight\">${this.value}</span>`) ;\r\n            const regState = obj.state.replace(reg, `<span class=\"hightLight\">${this.value}</span>`) ;\r\n              return `<li>\r\n                        <span class=\"name\">${regCity}, ${regState}</span>\r\n                        <span class=\"population\">${numberWithCommas(obj.population)}</span>\r\n                      </li>` \r\n          }).join(\"\");\r\n            //消除分隔逗點\r\n        }\r\n        \r\n\r\n        onMounted(()=>{\r\n            //監聽input輸入的關鍵字\r\n            document.querySelector(\"input.search\").addEventListener(\"change\", displayDataMatch);\r\n            document.querySelector(\"input.search\").addEventListener(\"keyup\", displayDataMatch);\r\n\r\n        })  \r\n\r\n\r\n        return{ displayHTML }\r\n    }//setup\r\n}\r\n</script>\r\n\r\n<template >\r\n    <div class=\"block-TypeAhead\">\r\n        <!-- Vue 寫法 ---------------------------------------------->\r\n        <!-- <form class=\"search-form\">\r\n            <input type=\"text\" class=\"search\" placeholder=\"City or State\" v-model=\"enterKey\">\r\n            <ul class=\"suggestions\" >\r\n                <li v-for=\"item in matchData.data\" :key=\"item.rank\">\r\n                   <span class=\"name\">{{item.city}}, {{item.state}}</span>\r\n\t\t               <span class=\"population\">{{item.population}}</span>\r\n                </li>\r\n            </ul>\r\n         </form> -->\r\n          \r\n        <!-- JS +Vue 寫法 ---------------------------------------------->\r\n        <form class=\"search-form\">\r\n            <input type=\"text\" class=\"search\" placeholder=\"City or State\">\r\n            <ul class=\"suggestions\" v-html=\"displayHTML\">\r\n            </ul>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<style scoped >\r\n    .block-TypeAhead{\r\n        width: 100%;\r\n        background-color: #e6e9ee; \r\n    }\r\n    .search-form {\r\n        width: 100%;\r\n        max-width:400px;\r\n        padding: 0 30px;\r\n        margin: auto;\r\n        box-sizing: border-box;\r\n    }\r\n    input.search {\r\n      width: 100%;\r\n      padding:20px;\r\n      margin: auto;\r\n      border: 10px solid #F7F7F7;\r\n      border-radius: 5px;\r\n      box-sizing: border-box;\r\n      outline:0;\r\n      font-size: 6vw;\r\n      text-align: center;\r\n      position: relative;\r\n      top: 10px;\r\n      z-index: 2;\r\n      box-shadow: 0 0 5px rgba(0, 0, 0, 0.12), \r\n                  inset 0 0 2px rgba(0, 0, 0, 0.19);\r\n    }\r\n\r\n    .suggestions {\r\n      width: 80%;\r\n      margin: auto;\r\n      position: relative;\r\n      z-index: 1;\r\n    }\r\n    .suggestions >>> li {\r\n      display:flex;\r\n      justify-content:space-between;\r\n      padding:20px 15px;\r\n      border-bottom: 1px solid #D8D8D8;\r\n      font-size: 16px;\r\n      text-transform: capitalize;\r\n      background:white;\r\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.14);\r\n      transition: background 0.2s;\r\n    }\r\n\r\n    .suggestions >>> li:nth-child(even) {\r\n      transform: translateY(2px) scale(1.001);\r\n      background: linear-gradient(to bottom,  #ffffff 0%,#EFEFEF 200%);\r\n    }\r\n    .suggestions >>> li:nth-child(odd) {\r\n      transform: translateY(3px);\r\n      background: linear-gradient(to top,  #ffffff 0%,#EFEFEF 100%);\r\n    }\r\n\r\n    .suggestions >>> span.population {\r\n      font-size: 14px;\r\n    }\r\n    .suggestions >>> span.hightLight {\r\n      background:#ffc600;\r\n    }\r\n    a {\r\n      color:black;\r\n      background:rgba(0,0,0,0.1);\r\n      text-decoration: none;\r\n    }\r\n\r\n    @media screen and (min-width:768px) {\r\n      input.search{\r\n        font-size: 40px;\r\n      }\r\n      \r\n    }\r\n</style>","import { render } from \"./D6_TypeAhead.vue?vue&type=template&id=38857a9c&scoped=true\"\nimport script from \"./D6_TypeAhead.vue?vue&type=script&lang=js\"\nexport * from \"./D6_TypeAhead.vue?vue&type=script&lang=js\"\n\nimport \"./D6_TypeAhead.vue?vue&type=style&index=0&id=38857a9c&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\自我進修\\\\履歷\\\\作品集\\\\Portfolio-VueCLI\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38857a9c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","placeholder","_createElementBlock","_hoisted_3","innerHTML","$setup","setup","endpoint","cities","fetch","then","res","json","data","push","dataMatch","reg","filter","obj","city","match","state","displayHTML","ref","numberWithCommas","x","toString","replace","displayDataMatch","RegExp","this","value","trim","matchArr","map","regCity","regState","population","join","onMounted","document","querySelector","addEventListener","__exports__","render"],"sourceRoot":""}